# EcoTaleReforging — Changelog

## v1.0.5 — 2026-02-21

### Исправления
- **Совместимость с SimpleEnchantments** — тултип перековки теперь корректно отображается на зачарованных предметах.
  - Ранее при зачаровании предмета через SimpleEnchantments информация о перековке (Reforged +N, DMG/DEF бонус) полностью пропадала из тултипа.
  - Причина: SimpleEnchantments использует `descriptionTranslationKey` с собственной пакетной инъекцией переводов, что подавляет additive-строки других провайдеров.
  - Решение: EcoTaleReforging теперь снимает регистрацию тултип-провайдера SimpleEnchantments и берёт на себя отображение **и зачарований, и перековки** в едином провайдере через additive lines.
  - Геймплейные системы SimpleEnchantments (урон, рецепты, эффекты) не затрагиваются — заменяется только визуальный тултип.

### Изменения
- Провайдер теперь обрабатывает зачарования для **любого** предмета (не только оружие/броню из списка перековки).
- Исправлен регистр ключа метаданных (`"Enchantments"` вместо `"enchantments"`).

---

## v1.0.4 — 2026-02-21

### Изменения
- Обновлены README-бейджи до актуальной версии.

---

## v1.0.3 — 2026-02-17

### Новое
- **Абстракция провайдера экономики** — пакет `provider.economy` с интерфейсом `EconomyProvider` и фасадом `EconomyBridge`.
- **Провайдер EconomyAPI** (Sennecoolgames) — reflection-адаптер `EconomyApiProvider` без compile-time зависимости.
- **Метод `format(double)`** — форматирование валюты через провайдер (в интерфейсе и всех реализациях).
- **Конфиг-ключ `economyProvider`** — выбор провайдера (`ecotale` / `economyapi`), автоматический fallback.

### Изменения
- `EcotaleEconomyProvider` — нативный адаптер для `EcotaleAPI` через Bridge.
- `EconomyBridge` использует `LinkedHashMap` с приоритетом.

---

## v1.0.2 — 2026-02-15

### Новое
- Нативная GUI админ-панель (NPC reforging settings).
- LuckPerms — опциональная зависимость.

---

## v1.0.1 — 2026-02-13

### Первый релиз
- Система перековки оружия/брони через NPC-кузнеца.
- Прогрессивные этапы улучшения с материалами и монетами.
- Механика риска (шанс успеха/провала).
- Локализация (en, ru).
